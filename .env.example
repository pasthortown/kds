# =============================================================================
# KDS System - Variables de Entorno
# =============================================================================
#
# INSTRUCCIONES:
# 1. Copiar este archivo como .env en la raiz del proyecto
#    $ cp .env.example .env
# 2. Completar TODOS los valores marcados como REQUERIDO
# 3. Ajustar valores opcionales segun tu ambiente
# 4. NUNCA subir el archivo .env a Git
#
# =============================================================================

# =============================================================================
# GENERAL
# =============================================================================
# Ambiente de ejecucion: development | staging | production
NODE_ENV=production

# Zona horaria del sistema
TZ=America/Mexico_City

# =============================================================================
# BASE DE DATOS - PostgreSQL
# =============================================================================
# [REQUERIDO] Usuario de la base de datos
POSTGRES_USER=kds

# [REQUERIDO] Password de la base de datos
# IMPORTANTE: Usar password fuerte en produccion (min 16 caracteres, alfanumerico + simbolos)
POSTGRES_PASSWORD=

# [REQUERIDO] Nombre de la base de datos
POSTGRES_DB=kds

# [OPCIONAL] Puerto de PostgreSQL (default: 5432)
POSTGRES_PORT=5432

# =============================================================================
# CACHE - Redis
# =============================================================================
# [REQUERIDO] Password de Redis
# IMPORTANTE: Usar password fuerte en produccion
REDIS_PASSWORD=

# [OPCIONAL] Puerto de Redis (default: 6379)
REDIS_PORT=6379

# =============================================================================
# AUTENTICACION - JWT
# =============================================================================
# [REQUERIDO] Secret para firmar tokens JWT
# IMPORTANTE: Generar string aleatorio de minimo 32 caracteres
# Puedes generarlo con: openssl rand -base64 32
JWT_SECRET=

# [REQUERIDO] Secret para refresh tokens
# IMPORTANTE: Debe ser diferente a JWT_SECRET
JWT_REFRESH_SECRET=

# [OPCIONAL] Tiempo de expiracion del access token (default: 15m)
# Formatos: 60, "2 days", "10h", "7d"
JWT_EXPIRES_IN=15m

# [OPCIONAL] Tiempo de expiracion del refresh token (default: 7d)
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# MAXPOINT - Integracion POS
# =============================================================================
# [CONDICIONAL] Habilitar integracion con MAXPOINT
# Si es false, las siguientes variables MXP_* no son necesarias
MXP_ENABLED=false

# [CONDICIONAL] Servidor SQL Server de MAXPOINT
# Ejemplo: 192.168.1.100 o maxpoint.local
MXP_SERVER=

# [CONDICIONAL] Nombre de la base de datos MAXPOINT
MXP_DATABASE=MAXPOINT

# [CONDICIONAL] Usuario SQL Server
MXP_USER=

# [CONDICIONAL] Password SQL Server
MXP_PASSWORD=

# [OPCIONAL] Intervalo de polling en milisegundos (default: 3000)
MXP_POLLING_INTERVAL=3000

# =============================================================================
# CONFIGURACION DE PANTALLAS
# =============================================================================
# [OPCIONAL] Intervalo de heartbeat en ms (default: 10000 = 10 segundos)
# Frecuencia con la que las pantallas envian se√±al de vida
HEARTBEAT_INTERVAL=10000

# [OPCIONAL] Timeout para marcar pantalla offline en ms (default: 30000 = 30 segundos)
# Si no hay heartbeat en este tiempo, la pantalla se marca como OFFLINE
HEARTBEAT_TIMEOUT=30000

# =============================================================================
# PUERTOS DE SERVICIOS
# =============================================================================
# [OPCIONAL] Puerto del backend API (default: 3000)
BACKEND_PORT=3000

# [OPCIONAL] Puerto del frontend KDS (default: 8080)
KDS_FRONTEND_PORT=8080

# [OPCIONAL] Puerto del backoffice (default: 8081)
BACKOFFICE_PORT=8081

# =============================================================================
# URLs DE FRONTEND (para build)
# =============================================================================
# [OPCIONAL] URL base de la API para los frontends
# En produccion con nginx proxy, usar /api
# En desarrollo local, usar http://localhost:3000/api
VITE_API_URL=/api

# [OPCIONAL] URL del WebSocket (vacio = auto-detectar desde ubicacion actual)
VITE_WS_URL=

# =============================================================================
# IMPRESORA (Opcional)
# =============================================================================
# [OPCIONAL] Habilitar impresion de tickets
PRINTER_ENABLED=false

# [CONDICIONAL] IP de la impresora termica
PRINTER_HOST=

# [CONDICIONAL] Puerto de la impresora (default: 9100)
PRINTER_PORT=9100

# =============================================================================
# LOGS
# =============================================================================
# [OPCIONAL] Nivel de logs: error | warn | info | debug
LOG_LEVEL=info

# =============================================================================
# CORS (solo si se necesita acceso desde dominios externos)
# =============================================================================
# [OPCIONAL] Origenes permitidos (separados por coma)
# Ejemplo: https://kds.midominio.com,https://admin.midominio.com
CORS_ORIGINS=

# =============================================================================
# NOTAS DE SEGURIDAD
# =============================================================================
#
# 1. NUNCA subir este archivo .env a Git una vez completado
#
# 2. Para generar passwords seguros:
#    $ openssl rand -base64 32
#
# 3. Para generar JWT secrets:
#    $ node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# 4. En produccion, considerar usar:
#    - Docker secrets
#    - HashiCorp Vault
#    - AWS Secrets Manager
#    - Azure Key Vault
#
# 5. Rotar JWT_SECRET y JWT_REFRESH_SECRET periodicamente
#
# =============================================================================
