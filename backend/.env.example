# ============================================
# KDS Backend - Environment Variables
# ============================================
# Copiar este archivo a .env y configurar los valores

# --------------------------------------------
# Base de Datos PostgreSQL
# --------------------------------------------
# URL de conexión a PostgreSQL
# Formato: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://kds_user:kds_password@postgres:5432/kds_db?schema=public"

# --------------------------------------------
# Redis
# --------------------------------------------
# URL de conexión a Redis para cache y pub/sub
REDIS_URL="redis://redis:6379"

# --------------------------------------------
# Servidor
# --------------------------------------------
# Puerto donde corre el backend
PORT=3000

# Entorno de ejecución
NODE_ENV=development

# --------------------------------------------
# JWT (Autenticación)
# --------------------------------------------
# Secreto para firmar tokens JWT (cambiar en producción!)
JWT_SECRET="cambiar-este-secreto-en-produccion-usar-al-menos-32-caracteres"

# Tiempo de expiración del token de acceso
JWT_ACCESS_EXPIRATION="15m"

# Tiempo de expiración del refresh token
JWT_REFRESH_EXPIRATION="7d"

# --------------------------------------------
# MAXPOINT (SQL Server)
# --------------------------------------------
# Conexión a la base de datos del POS MAXPOINT
MXP_HOST="10.101.27.20"
MXP_USER="sa"
MXP_PASSWORD="tu_password_aqui"
MXP_DATABASE="MAXPOINT_K027"

# Puerto de SQL Server (default: 1433)
MXP_PORT=1433

# --------------------------------------------
# Configuración de Polling
# --------------------------------------------
# Intervalo de lectura de comandas en milisegundos
POLLING_INTERVAL=2000

# Tiempo de vida de las órdenes en horas
ORDER_LIFETIME_HOURS=4

# --------------------------------------------
# WebSocket
# --------------------------------------------
# Intervalo de heartbeat en milisegundos
HEARTBEAT_INTERVAL=5000

# Timeout para considerar pantalla offline (ms)
HEARTBEAT_TIMEOUT=10000

# --------------------------------------------
# Logs
# --------------------------------------------
# Nivel de log: error, warn, info, debug
LOG_LEVEL=info

# Días de retención de logs
LOG_RETENTION_DAYS=5

# --------------------------------------------
# CORS
# --------------------------------------------
# Orígenes permitidos (separados por coma)
CORS_ORIGINS="http://localhost:8080,http://localhost:80,http://localhost:5173"

# --------------------------------------------
# Admin Default
# --------------------------------------------
# Usuario admin por defecto (solo para primera ejecución)
ADMIN_EMAIL="admin@kds.local"
ADMIN_PASSWORD="admin123"
